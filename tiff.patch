diff --git a/cmake/PkgConfig.cmake b/cmake/PkgConfig.cmake
index ec4f5383..c9e52a54 100644
--- a/cmake/PkgConfig.cmake
+++ b/cmake/PkgConfig.cmake
@@ -29,7 +29,7 @@ function(set_libs_private out_var)
     foreach(lib IN LISTS ARGN)
         get_filename_component(name "${lib}" NAME)
         foreach(prefix IN LISTS CMAKE_FIND_LIBRARY_PREFIXES)
-            if(name MATCHES "^${prefix}")
+            if("${prefix}" AND name MATCHES "^${prefix}")
                 string(REGEX REPLACE "^${prefix}" "" name "${name}")
                 break()
             endif()
diff --git a/cmake/OpenGLChecks.cmake b/cmake/OpenGLChecks.cmake
index 8d4142a..eecbd6e 100644
--- a/cmake/OpenGLChecks.cmake
+++ b/cmake/OpenGLChecks.cmake
@@ -31,7 +31,7 @@ find_package(GLUT)
 
 set(HAVE_OPENGL FALSE)
 if(OPENGL_FOUND AND OPENGL_GLU_FOUND AND GLUT_FOUND)
-    set(HAVE_OPENGL TRUE)
+#    set(HAVE_OPENGL TRUE)
 endif()
 
 # Purely to satisfy the generated headers:
